import {
  useSearchParams
} from "./chunk-T7YBVUWZ.js";

// node_modules/@medusajs/dashboard/dist/chunk-M3VFKDXJ.mjs
var useSelectedParams = ({
  param,
  prefix,
  multiple = false
}) => {
  const [searchParams, setSearchParams] = useSearchParams();
  const identifier = prefix ? `${prefix}_${param}` : param;
  const offsetKey = prefix ? `${prefix}_offset` : "offset";
  const add = (value) => {
    setSearchParams((prev) => {
      const newValue = new URLSearchParams(prev);
      const updateMultipleValues = () => {
        var _a;
        const existingValues = ((_a = newValue.get(identifier)) == null ? void 0 : _a.split(",")) || [];
        if (!existingValues.includes(value)) {
          existingValues.push(value);
          newValue.set(identifier, existingValues.join(","));
        }
      };
      const updateSingleValue = () => {
        newValue.set(identifier, value);
      };
      multiple ? updateMultipleValues() : updateSingleValue();
      newValue.delete(offsetKey);
      return newValue;
    });
  };
  const deleteParam = (value) => {
    const deleteMultipleValues = (prev) => {
      var _a;
      const existingValues = ((_a = prev.get(identifier)) == null ? void 0 : _a.split(",")) || [];
      const index = existingValues.indexOf(value || "");
      if (index > -1) {
        existingValues.splice(index, 1);
        prev.set(identifier, existingValues.join(","));
      }
    };
    const deleteSingleValue = (prev) => {
      prev.delete(identifier);
    };
    setSearchParams((prev) => {
      if (value) {
        multiple ? deleteMultipleValues(prev) : deleteSingleValue(prev);
        if (!prev.get(identifier)) {
          prev.delete(identifier);
        }
      } else {
        prev.delete(identifier);
      }
      prev.delete(offsetKey);
      return prev;
    });
  };
  const get = () => {
    var _a;
    return ((_a = searchParams.get(identifier)) == null ? void 0 : _a.split(",").filter(Boolean)) || [];
  };
  return { add, delete: deleteParam, get };
};

export {
  useSelectedParams
};
//# sourceMappingURL=chunk-IFIPMAMX.js.map
