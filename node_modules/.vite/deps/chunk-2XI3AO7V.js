import {
  esm_default
} from "./chunk-OO5WSMOM.js";
import {
  Trans,
  useTranslation
} from "./chunk-ZDVERLX5.js";
import {
  Link,
  Outlet
} from "./chunk-T7YBVUWZ.js";
import {
  ArrowUpRightOnBox,
  Badge,
  Check,
  Container,
  Drawer,
  Heading,
  IconButton,
  Kbd,
  SquareTwoStack,
  TriangleDownMini,
  XMarkMini,
  clx
} from "./chunk-4QBNNGLV.js";
import {
  require_jsx_runtime
} from "./chunk-KBTYAULA.js";
import {
  require_react
} from "./chunk-QCHXOAYK.js";
import {
  __toESM
} from "./chunk-WOOG5QLI.js";

// node_modules/@medusajs/dashboard/dist/chunk-2RQLKDBF.mjs
var import_react = __toESM(require_react(), 1);
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
var import_react2 = __toESM(require_react(), 1);
var import_react3 = __toESM(require_react(), 1);
var import_jsx_runtime4 = __toESM(require_jsx_runtime(), 1);
var import_react4 = __toESM(require_react(), 1);
var JsonViewSection = ({ data }) => {
  const { t } = useTranslation();
  const numberOfKeys = Object.keys(data).length;
  return (0, import_jsx_runtime.jsxs)(Container, { className: "flex items-center justify-between px-6 py-4", children: [
    (0, import_jsx_runtime.jsxs)("div", { className: "flex items-center gap-x-4", children: [
      (0, import_jsx_runtime.jsx)(Heading, { level: "h2", children: t("json.header") }),
      (0, import_jsx_runtime.jsx)(Badge, { size: "2xsmall", rounded: "full", children: t("json.numberOfKeys", {
        count: numberOfKeys
      }) })
    ] }),
    (0, import_jsx_runtime.jsxs)(Drawer, { children: [
      (0, import_jsx_runtime.jsx)(Drawer.Trigger, { asChild: true, children: (0, import_jsx_runtime.jsx)(
        IconButton,
        {
          size: "small",
          variant: "transparent",
          className: "text-ui-fg-muted hover:text-ui-fg-subtle",
          children: (0, import_jsx_runtime.jsx)(ArrowUpRightOnBox, {})
        }
      ) }),
      (0, import_jsx_runtime.jsxs)(Drawer.Content, { className: "bg-ui-contrast-bg-base text-ui-code-fg-subtle !shadow-elevation-commandbar overflow-hidden border border-none max-md:inset-x-2 max-md:max-w-[calc(100%-16px)]", children: [
        (0, import_jsx_runtime.jsxs)("div", { className: "bg-ui-code-bg-base flex items-center justify-between px-6 py-4", children: [
          (0, import_jsx_runtime.jsxs)("div", { className: "flex items-center gap-x-4", children: [
            (0, import_jsx_runtime.jsx)(Drawer.Title, { asChild: true, children: (0, import_jsx_runtime.jsx)(Heading, { className: "text-ui-contrast-fg-primary", children: (0, import_jsx_runtime.jsx)(
              Trans,
              {
                i18nKey: "json.drawer.header",
                count: numberOfKeys,
                components: [
                  (0, import_jsx_runtime.jsx)("span", { className: "text-ui-fg-subtle" }, "count-span")
                ]
              }
            ) }) }),
            (0, import_jsx_runtime.jsx)(Drawer.Description, { className: "sr-only", children: t("json.drawer.description") })
          ] }),
          (0, import_jsx_runtime.jsxs)("div", { className: "flex items-center gap-x-2", children: [
            (0, import_jsx_runtime.jsx)(Kbd, { className: "bg-ui-contrast-bg-subtle border-ui-contrast-border-base text-ui-contrast-fg-secondary", children: "esc" }),
            (0, import_jsx_runtime.jsx)(Drawer.Close, { asChild: true, children: (0, import_jsx_runtime.jsx)(
              IconButton,
              {
                size: "small",
                variant: "transparent",
                className: "text-ui-contrast-fg-secondary hover:text-ui-contrast-fg-primary hover:bg-ui-contrast-bg-base-hover active:bg-ui-contrast-bg-base-pressed focus-visible:bg-ui-contrast-bg-base-hover focus-visible:shadow-borders-interactive-with-active",
                children: (0, import_jsx_runtime.jsx)(XMarkMini, {})
              }
            ) })
          ] })
        ] }),
        (0, import_jsx_runtime.jsx)(Drawer.Body, { className: "flex flex-1 flex-col overflow-hidden px-[5px] py-0 pb-[5px]", children: (0, import_jsx_runtime.jsx)("div", { className: "bg-ui-contrast-bg-subtle flex-1 overflow-auto rounded-b-[4px] rounded-t-lg p-3", children: (0, import_jsx_runtime.jsx)(
          import_react.Suspense,
          {
            fallback: (0, import_jsx_runtime.jsx)("div", { className: "flex size-full flex-col" }),
            children: (0, import_jsx_runtime.jsxs)(
              esm_default,
              {
                value: data,
                displayDataTypes: false,
                style: {
                  "--w-rjv-font-family": "Roboto Mono, monospace",
                  "--w-rjv-line-color": "var(--contrast-border-base)",
                  "--w-rjv-curlybraces-color": "var(--contrast-fg-secondary)",
                  "--w-rjv-brackets-color": "var(--contrast-fg-secondary)",
                  "--w-rjv-key-string": "var(--contrast-fg-primary)",
                  "--w-rjv-info-color": "var(--contrast-fg-secondary)",
                  "--w-rjv-type-string-color": "var(--tag-green-icon)",
                  "--w-rjv-quotes-string-color": "var(--tag-green-icon)",
                  "--w-rjv-type-boolean-color": "var(--tag-orange-icon)",
                  "--w-rjv-type-int-color": "var(--tag-orange-icon)",
                  "--w-rjv-type-float-color": "var(--tag-orange-icon)",
                  "--w-rjv-type-bigint-color": "var(--tag-orange-icon)",
                  "--w-rjv-key-number": "var(--contrast-fg-secondary)",
                  "--w-rjv-arrow-color": "var(--contrast-fg-secondary)",
                  "--w-rjv-copied-color": "var(--contrast-fg-secondary)",
                  "--w-rjv-copied-success-color": "var(--contrast-fg-primary)",
                  "--w-rjv-colon-color": "var(--contrast-fg-primary)",
                  "--w-rjv-ellipsis-color": "var(--contrast-fg-secondary)"
                },
                collapsed: 1,
                children: [
                  (0, import_jsx_runtime.jsx)(esm_default.Quote, { render: () => (0, import_jsx_runtime.jsx)("span", {}) }),
                  (0, import_jsx_runtime.jsx)(
                    esm_default.Null,
                    {
                      render: () => (0, import_jsx_runtime.jsx)("span", { className: "text-ui-tag-red-icon", children: "null" })
                    }
                  ),
                  (0, import_jsx_runtime.jsx)(
                    esm_default.Undefined,
                    {
                      render: () => (0, import_jsx_runtime.jsx)("span", { className: "text-ui-tag-blue-icon", children: "undefined" })
                    }
                  ),
                  (0, import_jsx_runtime.jsx)(
                    esm_default.CountInfo,
                    {
                      render: (_props, { value }) => {
                        return (0, import_jsx_runtime.jsx)("span", { className: "text-ui-contrast-fg-secondary ml-2", children: t("general.items", {
                          count: Object.keys(value).length
                        }) });
                      }
                    }
                  ),
                  (0, import_jsx_runtime.jsx)(esm_default.Arrow, { children: (0, import_jsx_runtime.jsx)(TriangleDownMini, { className: "text-ui-contrast-fg-secondary -ml-[0.5px]" }) }),
                  (0, import_jsx_runtime.jsx)(esm_default.Colon, { children: (0, import_jsx_runtime.jsx)("span", { className: "mr-1", children: ":" }) }),
                  (0, import_jsx_runtime.jsx)(
                    esm_default.Copied,
                    {
                      render: ({ style }, { value }) => {
                        return (0, import_jsx_runtime.jsx)(Copied, { style, value });
                      }
                    }
                  )
                ]
              }
            )
          }
        ) }) })
      ] })
    ] })
  ] });
};
var Copied = ({ style, value }) => {
  const [copied, setCopied] = (0, import_react.useState)(false);
  const handler = (e) => {
    e.stopPropagation();
    setCopied(true);
    if (typeof value === "string") {
      navigator.clipboard.writeText(value);
    } else {
      const json = JSON.stringify(value, null, 2);
      navigator.clipboard.writeText(json);
    }
    setTimeout(() => {
      setCopied(false);
    }, 2e3);
  };
  const styl = { whiteSpace: "nowrap", width: "20px" };
  if (copied) {
    return (0, import_jsx_runtime.jsx)("span", { style: { ...style, ...styl }, children: (0, import_jsx_runtime.jsx)(Check, { className: "text-ui-contrast-fg-primary" }) });
  }
  return (0, import_jsx_runtime.jsx)("span", { style: { ...style, ...styl }, onClick: handler, children: (0, import_jsx_runtime.jsx)(SquareTwoStack, { className: "text-ui-contrast-fg-secondary" }) });
};
var MetadataSection = ({
  data,
  href = "metadata/edit"
}) => {
  const { t } = useTranslation();
  if (!data) {
    return null;
  }
  if (!("metadata" in data)) {
    return null;
  }
  const numberOfKeys = data.metadata ? Object.keys(data.metadata).length : 0;
  return (0, import_jsx_runtime2.jsxs)(Container, { className: "flex items-center justify-between", children: [
    (0, import_jsx_runtime2.jsxs)("div", { className: "flex items-center gap-x-3", children: [
      (0, import_jsx_runtime2.jsx)(Heading, { level: "h2", children: t("metadata.header") }),
      (0, import_jsx_runtime2.jsx)(Badge, { size: "2xsmall", rounded: "full", children: t("metadata.numberOfKeys", {
        count: numberOfKeys
      }) })
    ] }),
    (0, import_jsx_runtime2.jsx)(
      IconButton,
      {
        size: "small",
        variant: "transparent",
        className: "text-ui-fg-muted hover:text-ui-fg-subtle",
        asChild: true,
        children: (0, import_jsx_runtime2.jsx)(Link, { to: href, children: (0, import_jsx_runtime2.jsx)(ArrowUpRightOnBox, {}) })
      }
    )
  ] });
};
var SingleColumnPage = ({
  children,
  widgets,
  /**
   * Data of the page which is passed to Widgets, JSON view, and Metadata view.
   */
  data,
  /**
   * Whether the page should render an outlet for children routes. Defaults to true.
   */
  hasOutlet = true,
  /**
   * Whether to show JSON view of the data. Defaults to false.
   */
  showJSON,
  /**
   * Whether to show metadata view of the data. Defaults to false.
   */
  showMetadata
}) => {
  const { before, after } = widgets;
  const widgetProps = { data };
  if (showJSON && !data) {
    if (true) {
      console.warn(
        "`showJSON` is true but no data is provided. To display JSON, provide data prop."
      );
    }
    showJSON = false;
  }
  if (showMetadata && !data) {
    if (true) {
      console.warn(
        "`showMetadata` is true but no data is provided. To display metadata, provide data prop."
      );
    }
    showMetadata = false;
  }
  return (0, import_jsx_runtime3.jsxs)("div", { className: "flex flex-col gap-y-3", children: [
    before.map((Component, i) => {
      return (0, import_react2.createElement)(Component, { ...widgetProps, key: i });
    }),
    children,
    after.map((Component, i) => {
      return (0, import_react2.createElement)(Component, { ...widgetProps, key: i });
    }),
    showMetadata && (0, import_jsx_runtime3.jsx)(MetadataSection, { data }),
    showJSON && (0, import_jsx_runtime3.jsx)(JsonViewSection, { data }),
    hasOutlet && (0, import_jsx_runtime3.jsx)(Outlet, {})
  ] });
};
var Root = ({
  children,
  /**
   * Widgets to be rendered in the main content area and sidebar.
   */
  widgets,
  /**
   * Data to be passed to widgets, JSON view, and Metadata view.
   */
  data,
  /**
   * Whether to show JSON view of the data. Defaults to false.
   */
  showJSON = false,
  /**
   * Whether to show metadata view of the data. Defaults to false.
   */
  showMetadata = false,
  /**
   * Whether to render an outlet for children routes. Defaults to true.
   */
  hasOutlet = true
}) => {
  const widgetProps = { data };
  const { before, after, sideBefore, sideAfter } = widgets;
  if (showJSON && !data) {
    if (true) {
      console.warn(
        "`showJSON` is true but no data is provided. To display JSON, provide data prop."
      );
    }
    showJSON = false;
  }
  if (showMetadata && !data) {
    if (true) {
      console.warn(
        "`showMetadata` is true but no data is provided. To display metadata, provide data prop."
      );
    }
    showMetadata = false;
  }
  const childrenArray = import_react3.Children.toArray(children);
  if (childrenArray.length !== 2) {
    throw new Error("TwoColumnPage expects exactly two children");
  }
  const [main, sidebar] = childrenArray;
  const showExtraData = showJSON || showMetadata;
  return (0, import_jsx_runtime4.jsxs)("div", { className: "flex w-full flex-col gap-y-3", children: [
    before.map((Component, i) => {
      return (0, import_react4.createElement)(Component, { ...widgetProps, key: i });
    }),
    (0, import_jsx_runtime4.jsxs)("div", { className: "flex w-full flex-col items-start gap-x-4 gap-y-3 xl:grid xl:grid-cols-[minmax(0,_1fr)_440px]", children: [
      (0, import_jsx_runtime4.jsxs)("div", { className: "flex w-full min-w-0 flex-col gap-y-3", children: [
        main,
        after.map((Component, i) => {
          return (0, import_react4.createElement)(Component, { ...widgetProps, key: i });
        }),
        showExtraData && (0, import_jsx_runtime4.jsxs)("div", { className: "hidden flex-col gap-y-3 xl:flex", children: [
          showMetadata && (0, import_jsx_runtime4.jsx)(MetadataSection, { data }),
          showJSON && (0, import_jsx_runtime4.jsx)(JsonViewSection, { data })
        ] })
      ] }),
      (0, import_jsx_runtime4.jsxs)("div", { className: "flex w-full flex-col gap-y-3 xl:mt-0", children: [
        sideBefore.map((Component, i) => {
          return (0, import_react4.createElement)(Component, { ...widgetProps, key: i });
        }),
        sidebar,
        sideAfter.map((Component, i) => {
          return (0, import_react4.createElement)(Component, { ...widgetProps, key: i });
        }),
        showExtraData && (0, import_jsx_runtime4.jsxs)("div", { className: "flex flex-col gap-y-3 xl:hidden", children: [
          showMetadata && (0, import_jsx_runtime4.jsx)(MetadataSection, { data }),
          showJSON && (0, import_jsx_runtime4.jsx)(JsonViewSection, { data })
        ] })
      ] })
    ] }),
    hasOutlet && (0, import_jsx_runtime4.jsx)(Outlet, {})
  ] });
};
var Main = ({
  children,
  className,
  ...props
}) => {
  return (0, import_jsx_runtime4.jsx)("div", { className: clx("flex w-full flex-col gap-y-3", className), ...props, children });
};
var Sidebar = ({
  children,
  className,
  ...props
}) => {
  return (0, import_jsx_runtime4.jsx)(
    "div",
    {
      className: clx(
        "flex w-full max-w-[100%] flex-col gap-y-3 xl:mt-0 xl:max-w-[440px]",
        className
      ),
      ...props,
      children
    }
  );
};
var TwoColumnPage = Object.assign(Root, { Main, Sidebar });

export {
  JsonViewSection,
  SingleColumnPage,
  TwoColumnPage
};
//# sourceMappingURL=chunk-2XI3AO7V.js.map
